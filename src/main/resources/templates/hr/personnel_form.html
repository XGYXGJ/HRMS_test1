<!-- src/main/resources/templates/hr/personnel_form.html -->
<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>新建员工档案</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="p-4">
<h3>新建员工档案 (人事经理)</h3>
<a href="/hr/files" class="btn btn-secondary mb-3">返回列表</a>

<div th:if="${error}" class="alert alert-danger" th:text="${error}"></div>

<form method="post" th:action="@{/hr/files/new}" class="w-50">
    <!-- 基本信息字段，同管理员版本 -->
    <div class="mb-3"><label class="form-label">姓名</label><input name="name" class="form-control" required/></div>
    <div class="mb-3"><label class="form-label">性别</label><select name="gender" class="form-select"><option value="男">男</option><option value="女">女</option></select></div>
    <div class="mb-3"><label class="form-label">身份证号</label><input name="idNumber" class="form-control"/></div>
    <div class="mb-3"><label class="form-label">手机号</label><input name="phoneNumber" class="form-control"/></div>
    <div class="mb-3"><label class="form-label">地址</label><input name="address" class="form-control"/></div>

    <hr>
    <h5>职位分配</h5>
    <div class="alert alert-secondary">新员工将自动归属到您所在的部门：<strong th:text="${session.user.l3OrgId}"></strong></div>

    <div class="mb-3">
        <label for="positionId" class="form-label">分配职位 <span class="text-danger">*</span></label>
        <select id="positionId" name="positionId" class="form-select" required>
            <option value="">-- 请选择职位 --</option>
            <option th:each="pos : ${positions}" th:value="${pos.positionId}" th:text="${pos.positionName}"></option>
        </select>
    </div>

    <button type="submit" class="btn btn-primary">确认创建</button>
</form>
</body>
</html>